<app-header></app-header>

<div class="container mx-auto py-10 bg-white font-sans mt-1 shadow-lg rounded-lg p-6">
  <header class="mb-10 text-center border-b border-gray-300 pb-4">
    <h1 class="text-3xl font-bold text-black tracking-wide">
      <i class="bi bi-receipt-cutoff mr-4 text-gray-700"></i>Order Details
    </h1>
  </header>

  @if (order) {
    <section class="bg-gray-100 p-6 rounded-lg shadow-sm">
      <h2 class="text-xl font-bold text-black mb-4">Order #{{ order.id }}</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h3 class="font-semibold text-lg text-black mb-2 border-b pb-1">User Information</h3>
          <p class="text-gray-700"><strong>Name:</strong> {{ order.customerInfo.name }}</p>
          <p class="text-gray-700"><strong>Contact:</strong> {{ order.customerInfo.contact }}</p>
          <p class="text-gray-700"><strong>Address:</strong> {{ order.customerInfo.address }}</p>
        </div>
        <div>
          <h3 class="font-semibold text-lg text-black mb-2 border-b pb-1">Order Summary</h3>
          <p class="text-gray-700"><strong>Date:</strong> {{ order.orderDate | date:'fullDate' }}</p>
          <p class="text-gray-700"><strong>Total Amount:</strong> ₹{{ order.totalAmount.toFixed(2) }}</p>
          <p class="text-gray-700"><strong>Status:</strong>
            <span [ngClass]="{
              'text-yellow-600': order.status === 'pending',
              'text-blue-600': order.status === 'processing',
              'text-green-600': order.status === 'completed'
            }">
              {{ order.status | titlecase }}
            </span>
          </p>
        </div>
      </div>

      <h3 class="font-semibold text-lg text-black mt-6 mb-2 border-b pb-1">Items</h3>
      @for (item of order.items; track item.id) {
        <div class="flex items-center mb-4 p-4 border rounded-lg shadow-sm hover:shadow-md transition-shadow">
          <img [src]="item.imageUrl" alt="{{ item.name }}" class="w-20 h-20 object-cover rounded mr-4">
          <div class="flex-1">
            <h5 class="font-bold text-lg text-black">{{ item.name }}</h5>
            <p class="text-sm text-gray-600">Quantity: {{ item.quantity }}</p>
            <p class="font-semibold text-black">₹{{ item.price * (item.quantity ?? 1) }}</p>
          </div>
        </div>
      }
    </section>
  } @else {
    <div class="bg-red-100 text-center mt-10 p-4 rounded text-red-700">
      <p>Order details could not be found.</p>
    </div>
  }
</div>

<app-footer></app-footer>